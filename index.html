<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Principia Mathematica | Demonstrações</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    
    <style>
        :root {
            --bg: #ffffff;
            --text: #1a1a1a;
            --primary: #000000;
            --secondary: #666666;
            --accent: #f0f0f0;
            --highlight: #0070f3;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, sans-serif; background: var(--bg); color: var(--text); display: flex; line-height: 1.6; }

        /* Sidebar Elegante */
        nav {
            width: 300px;
            height: 100vh;
            border-right: 1px solid var(--accent);
            padding: 40px 20px;
            position: fixed;
            background: white;
            z-index: 10;
        }

        .logo { font-weight: 800; font-size: 1.2rem; letter-spacing: -1px; margin-bottom: 40px; border-bottom: 2px solid var(--primary); display: inline-block; }

        .menu-item {
            list-style: none;
            padding: 12px 15px;
            margin-bottom: 8px;
            border-radius: 6px;
            cursor: pointer;
            color: var(--secondary);
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .menu-item:hover { background: var(--accent); color: var(--primary); }
        .menu-item.active { background: var(--primary); color: white; font-weight: 600; }

        /* Área de Conteúdo */
        main { margin-left: 300px; width: 100%; max-width: 900px; padding: 80px 100px; }

        h2 { font-size: 2.5rem; letter-spacing: -2px; margin-bottom: 40px; }

        .step-container { margin-top: 40px; }

        .step {
            margin-bottom: 50px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.6s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        .step-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            font-weight: 700;
            color: var(--highlight);
            letter-spacing: 1px;
            margin-bottom: 10px;
            display: block;
        }

        .step-text { font-size: 1.1rem; margin-bottom: 20px; color: #333; }

        .math-box {
            background: var(--accent);
            padding: 25px;
            border-radius: 12px;
            overflow-x: auto;
            border: 1px solid #e5e5e5;
        }

        /* Responsividade */
        @media (max-width: 900px) {
            nav { width: 100%; height: auto; position: relative; border-bottom: 1px solid var(--accent); }
            body { flex-direction: column; }
            main { margin-left: 0; padding: 40px 20px; }
        }
    </style>
</head>
<body>

<nav>
    <div class="logo">PRINCIPIA MATH</div>
    <div class="menu-item active" onclick="updateView('pitagoras', this)">Teorema de Pitágoras</div>
    <div class="menu-item" onclick="updateView('gauss', this)">Soma de Gauss</div>
    <div class="menu-item" onclick="updateView('trigo', this)">Identidade Trigonométrica</div>
    <div class="menu-item" onclick="updateView('geometrica', this)">Série Geométrica</div>
    <div class="menu-item" onclick="updateView('euler', this)">Identidade de Euler</div>
</nav>

<main id="app">
    </main>

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>

<script>
    const content = {
        pitagoras: {
            title: "O Teorema de Pitágoras",
            steps: [
                {
                    label: "I. Definição Formal",
                    text: "Seja um triângulo retângulo com catetos $a$ e $b$ e hipotenusa $c$. Provaremos que a área do quadrado construído sobre a hipotenusa é a soma das áreas dos quadrados construídos sobre os catetos.",
                    math: "a^2 + b^2 = c^2"
                },
                {
                    label: "II. Construção Geométrica",
                    text: "Considere um quadrado de lado $(a + b)$. Podemos dividir sua área em quatro triângulos retângulos congruentes e um quadrado central de lado $c$.",
                    math: "A_{total} = (a + b)^2"
                },
                {
                    label: "III. Expansão e Igualdade",
                    text: "A área total também é a soma das áreas das partes: quatro triângulos de área $\\frac{ab}{2}$ e o quadrado central $c^2$.",
                    math: "(a + b)^2 = 4 \\left( \\frac{ab}{2} \\right) + c^2"
                },
                {
                    label: "IV. Conclusão Algébrica",
                    text: "Expandindo o binômio e simplificando os termos idênticos de ambos os lados:",
                    math: "a^2 + 2ab + b^2 = 2ab + c^2 \\implies a^2 + b^2 = c^2"
                }
            ]
        },
        gauss: {
            title: "A Soma de uma P.A. (Gauss)",
            steps: [
                {
                    label: "I. O Problema",
                    text: "Desejamos encontrar a soma $S$ dos primeiros $n$ números naturais:",
                    math: "S_n = 1 + 2 + 3 + \dots + (n-1) + n"
                },
                {
                    label: "II. O Método da Inversão",
                    text: "Escrevemos a soma em ordem crescente e, logo abaixo, em ordem decrescente:",
                    math: "\\begin{aligned} S_n &= 1 + 2 + \dots + n \\\\ S_n &= n + (n-1) + \dots + 1 \\end{aligned}"
                },
                {
                    label: "III. Soma Vertical",
                    text: "Somando as duas equações termo a termo, observamos que cada par resulta em $(n+1)$. Como existem $n$ termos:",
                    math: "2S_n = (n+1) + (n+1) + \dots + (n+1) = n(n+1)"
                },
                {
                    label: "IV. Resultado Final",
                    text: "Isolando $S_n$, obtemos a fórmula geral para a soma de uma progressão aritmética simples:",
                    math: "S_n = \\frac{n(n+1)}{2}"
                }
            ]
        },
        euler: {
            title: "A Identidade de Euler",
            steps: [
                {
                    label: "I. Expansão em Série de Taylor",
                    text: "A função exponencial complexa $e^z$ pode ser definida pela sua série de potências infinita:",
                    math: "e^z = \sum_{n=0}^{\infty} \frac{z^n}{n!}"
                },
                {
                    label: "II. Substituição Imaginária",
                    text: "Substituindo $z$ por $ix$, onde $i = \sqrt{-1}$, e separando os termos reais dos imaginários, obtemos as séries de $\cos(x)$ e $\sin(x)$:",
                    math: "e^{ix} = \cos(x) + i\sin(x)"
                },
                {
                    label: "III. O Ponto Crítico",
                    text: "Avaliando a função no ponto $x = \pi$ radianos:",
                    math: "e^{i\pi} = \cos(\pi) + i\sin(\pi)"
                },
                {
                    label: "IV. A Elegância Final",
                    text: "Como $\cos(\pi) = -1$ e $\sin(\pi) = 0$, a expressão se reduz a uma das mais belas identidades da matemática:",
                    math: "e^{i\pi} + 1 = 0"
                }
            ]
        },
        trigo: {
            title: "Identidade Fundamental",
            steps: [
                {
                    label: "I. O Círculo Trigonométrico",
                    text: "Em um círculo de raio unitário ($R=1$), qualquer ponto $P(x,y)$ sobre a circunferência satisfaz a equação da distância à origem:",
                    math: "x^2 + y^2 = 1^2"
                },
                {
                    label: "II. Definição de Seno e Cosseno",
                    text: "Por definição, as coordenadas horizontal e vertical são, respectivamente:",
                    math: "x = \cos(\theta), \quad y = \sin(\theta)"
                },
                {
                    label: "III. Substituição",
                    text: "Substituindo estas definições na equação do círculo, temos a identidade que relaciona as funções trigonométricas:",
                    math: "\sin^2(\theta) + \cos^2(\theta) = 1"
                }
            ]
        },
        geometrica: {
            title: "Soma da Série Geométrica",
            steps: [
                {
                    label: "I. Definição da Soma Parcial",
                    text: "Seja $S_n$ a soma dos primeiros $n$ termos de uma progressão geométrica de razão $r$:",
                    math: "S_n = 1 + r + r^2 + \dots + r^{n-1}"
                },
                {
                    label: "II. A Diferença Estrutural",
                    text: "Multiplicamos a soma pela razão $r$ e subtraímos o resultado da soma original para cancelar os termos intermediários:",
                    math: "S_n - rS_n = (1 + r + \dots + r^{n-1}) - (r + r^2 + \dots + r^n)"
                },
                {
                    label: "III. Simplificação",
                    text: "Restam apenas o primeiro termo da primeira série e o último da segunda:",
                    math: "S_n(1 - r) = 1 - r^n"
                },
                {
                    label: "IV. O Limite Infinito",
                    text: "Se $|r| < 1$, então conforme $n \to \infty$, o termo $r^n \to 0$. Assim, a soma infinita converge para:",
                    math: "S = \frac{1}{1-r}"
                }
            ]
        }
    };

    function updateView(key, el) {
        // Update menu UI
        document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
        el.classList.add('active');

        const data = content[key];
        const main = document.getElementById('app');
        
        let html = `<h2>${data.title}</h2><div class="step-container">`;
        
        data.steps.forEach((step, index) => {
            html += `
                <div class="step" style="animation-delay: ${index * 0.1}s">
                    <span class="step-label">${step.label}</span>
                    <p class="step-text">${step.text}</p>
                    <div class="math-box">
                        $${step.math}$$
                    </div>
                </div>
            `;
        });
        
        html += `</div>`;
        main.innerHTML = html;

        // Render KaTeX com tratamento de erro
        if (window.renderMathInElement) {
            renderMathInElement(main, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ],
                throwOnError : false
            });
        }
    }

    // Inicialização
    window.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            updateView('pitagoras', document.querySelector('.menu-item'));
        }, 500);
    });
</script>

</body>
</html>
