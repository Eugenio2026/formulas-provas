<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fórmulas Famosas — Provas Passo a Passo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f8f9fa; line-height: 1.6; }
        h1 { text-align: center; color: #222; }
        #menu { display: flex; flex-wrap: wrap; gap: 18px; justify-content: center; }
        .formula-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 18px;
            width: 320px;
            cursor: pointer;
            box-shadow: 0 3px 8px rgba(0,0,0,0.08);
            transition: all 0.18s;
        }
        .formula-card:hover { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }
        #prova {
            max-width: 900px;
            margin: 30px auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: none;
        }
        .katex { font-size: 1.28em !important; }
        ol { padding-left: 28px; }
        li { margin-bottom: 12px; }
    </style>
</head>
<body>

    <h1>Fórmulas Famosas — Provas Passo a Passo</h1>
    <p style="text-align: center; font-size: 1.1em;">Ensino médio e pré-cálculo — clique em uma fórmula para ver a demonstração completa</p>

    <div id="menu"></div>

    <div id="prova">
        <h2 id="nome"></h2>
        <p><strong>Fórmula:</strong> <span id="formula"></span></p>
        <p><strong>Área:</strong> <span id="area"></span></p>
        <p><strong>Utilização típica:</strong> <span id="dica"></span></p>
        <h3>Demonstração passo a passo:</h3>
        <ol id="passos"></ol>
        <button onclick="voltarMenu()" style="margin-top: 30px; padding: 12px 28px; font-size: 1.1em; cursor: pointer;">← Voltar ao menu</button>
    </div>

    <script>
        const FORMULAS = [
            {
                nome: "Fórmula de Bhaskara",
                formula: "x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}",
                area: "Álgebra — Equações do 2º grau",
                dica: "Resolve ax² + bx + c = 0 (a ≠ 0)",
                passos: [
                    "Partimos da equação geral: ax² + bx + c = 0",
                    "Dividimos todos os termos por a (a ≠ 0): x² + (b/a)x + (c/a) = 0",
                    "Movemos o termo constante para o outro lado: x² + (b/a)x = -c/a",
                    "Completamos o quadrado no lado esquerdo: adicionamos (b/(2a))² nos dois lados",
                    "x² + (b/a)x + (b/(2a))² = -c/a + (b/(2a))²",
                    "O lado esquerdo é um quadrado perfeito: (x + b/(2a))² = (b²/(4a²)) - (c/a)",
                    "Colocamos com denominador comum: (x + b/(2a))² = (b² - 4ac)/(4a²)",
                    "Tiramos a raiz quadrada nos dois lados: x + b/(2a) = ± √(b² - 4ac) / (2a)",
                    "Isolamos x: x = -b/(2a) ± √(b² - 4ac)/(2a)",
                    "Escrevemos de forma compacta: x = [-b ± √(Δ)] / (2a), onde Δ = b² - 4ac"
                ]
            },
            {
                nome: "Teorema de Pitágoras",
                formula: "a^2 + b^2 = c^2",
                area: "Geometria Plana — Triângulos retângulos",
                dica: "Relação entre catetos (a, b) e hipotenusa (c)",
                passos: [
                    "Considere um triângulo retângulo com catetos a e b, hipotenusa c.",
                    "Construímos quadrados nos três lados do triângulo.",
                    "O quadrado sobre a hipotenusa tem área c².",
                    "Os quadrados sobre os catetos têm áreas a² e b².",
                    "Uma demonstração clássica (van Schooten ou rearranjo): dividimos o quadrado maior em regiões que podem ser rearranjadas para formar exatamente os dois quadrados menores.",
                    "Como as áreas são conservadas no rearranjo, temos: a² + b² = c².",
                    "(Alternativa via semelhança: a altura relativa à hipotenusa cria dois triângulos menores semelhantes ao original → a/c = b/a e b/c = a/b, multiplicando obtemos a² + b² = c².)"
                ]
            },
            {
                nome: "Soma dos ângulos internos de um polígono",
                formula: "S = (n-2) \\times 180^\\circ",
                area: "Geometria Plana",
                dica: "n = número de lados do polígono convexo",
                passos: [
                    "Qualquer polígono convexo de n lados pode ser dividido em (n-2) triângulos, traçando diagonais a partir de um único vértice.",
                    "Cada triângulo tem soma de ângulos internos igual a 180°.",
                    "Portanto, a soma total dos ângulos internos do polígono é o número de triângulos vezes 180°.",
                    "S = (n - 2) × 180°",
                    "Exemplo: triângulo (n=3) → (3-2)×180° = 180°",
                    "Quadrado (n=4) → (4-2)×180° = 360°",
                    "Pentágono (n=5) → (5-2)×180° = 540°"
                ]
            },
            {
                nome: "Quadrado da soma (produto notável)",
                formula: "(a + b)^2 = a^2 + 2ab + b^2",
                area: "Álgebra — Produtos notáveis",
                dica: "Base para fatoração e expansão de binômios",
                passos: [
                    "Expandimos diretamente: (a + b)² = (a + b)(a + b)",
                    "Aplicamos a propriedade distributiva: = a·(a + b) + b·(a + b)",
                    "= a·a + a·b + b·a + b·b",
                    "= a² + ab + ba + b²",
                    "Como a multiplicação é comutativa, ab = ba",
                    "Logo: a² + ab + ab + b² = a² + 2ab + b²",
                    "Portanto: (a + b)² = a² + 2ab + b²"
                ]
            },
            {
                nome: "Soma dos termos de uma PA",
                formula: "S_n = \\dfrac{n}{2} (a_1 + a_n) \\quad \\text{ou} \\quad S_n = \\dfrac{n}{2} [2a_1 + (n-1)d]",
                area: "Progressão Aritmética",
                dica: "Soma dos n primeiros termos de PA",
                passos: [
                    "Seja S a soma dos n termos: S = a₁ + (a₁ + d) + (a₁ + 2d) + ... + (a₁ + (n-1)d)",
                    "Escrevemos a mesma soma em ordem inversa: S = (a₁ + (n-1)d) + ... + (a₁ + d) + a₁",
                    "Somamos as duas expressões termo a termo: 2S = [a₁ + a₁ + (n-1)d] + [(a₁ + d) + (a₁ + (n-2)d)] + ...",
                    "Cada par soma 2a₁ + (n-1)d, e há n pares",
                    "Portanto: 2S = n [2a₁ + (n-1)d]",
                    "Dividimos por 2: S = \\dfrac{n}{2} [2a₁ + (n-1)d]",
                    "Sabendo que a_n = a₁ + (n-1)d, podemos reescrever: S = \\dfrac{n}{2} (a_1 + a_n)"
                ]
            },
            {
                nome: "Lei dos senos",
                formula: "\\dfrac{a}{\\sin A} = \\dfrac{b}{\\sin B} = \\dfrac{c}{\\sin C} = 2R",
                area: "Trigonometria — Triângulos quaisquer",
                dica: "Relação entre lados e ângulos opostos",
                passos: [
                    "Seja um triângulo ABC com lados a, b, c opostos aos ângulos A, B, C.",
                    "A área do triângulo pode ser calculada de três formas:",
                    "Área = (1/2) b c \\sin A",
                    "Área = (1/2) a c \\sin B",
                    "Área = (1/2) a b \\sin C",
                    "Igualando as expressões: (1/2) b c \\sin A = (1/2) a c \\sin B = (1/2) a b \\sin C",
                    "Cancelamos o 1/2 e multiplicamos cruzado: b c \\sin A = a c \\sin B = a b \\sin C",
                    "Dividimos todos os termos por a b c: \\dfrac{\\sin A}{a} = \\dfrac{\\sin B}{b} = \\dfrac{\\sin C}{c}",
                    "Invertendo a igualdade: \\dfrac{a}{\\sin A} = \\dfrac{b}{\\sin B} = \\dfrac{c}{\\sin C}",
                    "Esse valor comum é igual a 2R, onde R é o raio da circunferência circunscrita ao triângulo."
                ]
            }
        ];

        function popularMenu() {
            const menu = document.getElementById('menu');
            menu.innerHTML = '';
            FORMULAS.forEach(f => {
                const card = document.createElement('div');
                card.className = 'formula-card';
                card.innerHTML = `<h3>${f.nome}</h3><p style="color:#555;">${f.area}</p>`;
                card.addEventListener('click', () => mostrarProva(f));
                menu.appendChild(card);
            });
        }

        function mostrarProva(f) {
            document.getElementById('nome').textContent = f.nome;
            document.getElementById('area').textContent = f.area;
            document.getElementById('dica').textContent = f.dica;

            katex.render(f.formula, document.getElementById('formula'), {
                throwOnError: false
            });

            const ol = document.getElementById('passos');
            ol.innerHTML = '';
            f.passos.forEach(p => {
                const li = document.createElement('li');
                li.innerHTML = p;  // permite <span> ou <em> se quiser destacar depois
                ol.appendChild(li);
            });

            document.getElementById('menu').style.display = 'none';
            document.getElementById('prova').style.display = 'block';
            renderMathInElement(ol); // re-renderiza qualquer LaTeX nos passos
        }

        function voltarMenu() {
            document.getElementById('menu').style.display = 'flex';
            document.getElementById('prova').style.display = 'none';
        }

        document.addEventListener('DOMContentLoaded', popularMenu);
    </script>
</body>
</html>
