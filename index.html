<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>F√≥rmulas Famosas ‚Äî Provas Did√°ticas</title>

  <!-- KaTeX (CDN) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>

  <style>
    :root{
      --bg:#0b1020;
      --panel:rgba(255,255,255,.06);
      --border:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.68);
      --accent:#7c3aed;
      --shadow:0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background:
        radial-gradient(1000px 500px at 20% 10%, rgba(124,58,237,.25), transparent 60%),
        radial-gradient(900px 600px at 80% 0%, rgba(34,197,94,.16), transparent 55%),
        radial-gradient(900px 600px at 50% 90%, rgba(56,189,248,.10), transparent 60%),
        var(--bg);
    }
    .container{ max-width:1200px; margin:0 auto; padding:22px; }
    .topbar{
      display:flex; align-items:flex-end; justify-content:space-between; gap:16px;
      margin-bottom:16px;
    }
    .title h1{ margin:0; font-size:18px; letter-spacing:.2px; }
    .title p{ margin:6px 0 0; color:var(--muted); font-size:13px; }
    .pill{
      font-size:12px; padding:7px 10px; border-radius:999px;
      border:1px solid var(--border); background:rgba(255,255,255,.05); color:var(--muted);
      white-space:nowrap;
    }
    .shell{ display:grid; grid-template-columns:340px 1fr; gap:18px; align-items:start; }
    @media (max-width:960px){ .shell{ grid-template-columns:1fr; } }

    .card{
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      overflow:hidden;
    }
    .cardHeader{
      padding:16px 16px 12px;
      border-bottom:1px solid var(--border);
      background:linear-gradient(180deg, rgba(255,255,255,.06), transparent);
    }
    .cardHeader h2{ margin:0; font-size:14px; letter-spacing:.2px; }
    .searchRow{ margin-top:12px; display:flex; gap:10px; }
    .input{
      width:100%;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      background:rgba(0,0,0,.18);
      outline:none;
      color:var(--text);
    }
    .input::placeholder{ color:rgba(255,255,255,.45); }
    .input:focus{ border-color:rgba(124,58,237,.55); box-shadow:0 0 0 4px rgba(124,58,237,.18); }
    .btn{
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      cursor:pointer;
      color:var(--text);
    }
    .btn:hover{ background:rgba(255,255,255,.08); }

    .list{ max-height:calc(100vh - 250px); overflow:auto; padding:10px; }
    .item{
      display:flex; flex-direction:column; gap:6px;
      padding:12px; border-radius:14px;
      border:1px solid transparent;
      cursor:pointer;
    }
    .item:hover{ background:rgba(255,255,255,.05); border-color:rgba(255,255,255,.08); }
    .item.active{ background:rgba(124,58,237,.14); border-color:rgba(124,58,237,.35); }
    .itemTop{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
    .itemName{ margin:0; font-size:14px; font-weight:650; }
    .tag{
      font-size:11px; padding:4px 8px; border-radius:999px;
      background:rgba(0,0,0,.20); border:1px solid var(--border);
      color:var(--muted);
    }
    .itemFormula{ font-family:var(--mono); font-size:12px; color:var(--muted); }

    .content{ padding:18px 18px 22px; }
    .hero h3{ margin:0 0 6px; font-size:18px; }
    .subtitle{ margin:0; color:var(--muted); font-size:14px; line-height:1.5; }
    .pillRow{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
    hr{ border:0; border-top:1px solid var(--border); margin:16px 0; }
    .kicker{ font-size:12px; color:rgba(255,255,255,.78); margin:0 0 10px 0; }
    .md{ line-height:1.75; font-size:15px; color:rgba(255,255,255,.88); }
    .md h4{ margin:18px 0 8px; font-size:16px; color:rgba(255,255,255,.94); }
    .md p{ margin:10px 0; }
    .md ul{ margin:10px 0 10px 18px; }
    .md code{
      font-family:var(--mono);
      font-size:13px;
      background:rgba(0,0,0,.20);
      padding:2px 6px;
      border-radius:8px;
      border:1px solid var(--border);
    }
    .footer{
      color:var(--muted);
      font-size:12px;
      padding:14px 18px 18px;
      border-top:1px solid var(--border);
    }
    a{ color:#b9a6ff; }
  </style>
</head>

<body>
  <div class="container">
    <div class="topbar">
      <div class="title">
        <h1>üìò F√≥rmulas famosas ‚Äî provas passo a passo</h1>
        <p>Ensino m√©dio e pr√©-c√°lculo. Selecione uma f√≥rmula e veja a demonstra√ß√£o did√°tica.</p>
      </div>
      <span class="pill" id="countPill">0 itens</span>
    </div>

    <div class="shell">
      <!-- MENU -->
      <div class="card">
        <div class="cardHeader">
          <h2>Menu</h2>
          <div class="searchRow">
            <input id="search" class="input" placeholder="Buscar (ex.: trigonometria, Gauss, primos)" />
            <button id="clear" class="btn" title="Limpar">‚úï</button>
          </div>
        </div>
        <div id="list" class="list"></div>
      </div>

      <!-- CONTE√öDO -->
      <div class="card">
        <div class="cardHeader">
          <h2>Prova</h2>
        </div>
        <div class="content">
          <div class="hero">
            <h3 id="title">‚Äî</h3>
            <p class="subtitle" id="subtitle">‚Äî</p>
            <div class="pillRow" id="meta"></div>
          </div>

          <p class="kicker"><strong>F√≥rmula:</strong> <span id="formula" style="font-family:var(--mono)"></span></p>

          <hr />

          <div class="md" id="body"></div>
        </div>
        <div class="footer">
          Dica: para adicionar novas f√≥rmulas, edite o array <code>FORMULAS</code> no final do arquivo.
        </div>
      </div>
    </div>
  </div>

  <script>
    // ====== DADOS (adicione mais f√≥rmulas aqui) ======
    const FORMULAS = [
      {
        id: "pitagoras",
        nome: "Teorema de Pit√°goras",
        tag: "Geometria",
        nivel: "Ensino m√©dio",
        tempo: "8‚Äì12 min",
        formulaTex: "a^2 + b^2 = c^2",
        resumo: "Rela√ß√£o fundamental em tri√¢ngulos ret√¢ngulos. Prova visual por √°reas.",
        html: `
          <h4>Objetivo</h4>
          <p>Provar que, num tri√¢ngulo ret√¢ngulo, com catetos <span class="math">a</span>, <span class="math">b</span> e hipotenusa <span class="math">c</span>, vale:</p>
          <p class="math-block">a^2+b^2=c^2</p>

          <h4>Prova por √°reas (passo a passo)</h4>
          <p>Considere um quadrado de lado <span class="math">a+b</span>. A √°rea total √©:</p>
          <p class="math-block">(a+b)^2</p>

          <p>Agora coloque dentro dele <strong>4</strong> tri√¢ngulos ret√¢ngulos iguais (com catetos <span class="math">a</span> e <span class="math">b</span>).</p>
          <p>A √°rea de cada tri√¢ngulo √©:</p>
          <p class="math-block">\\frac{ab}{2}</p>

          <p>Ent√£o a √°rea dos 4 tri√¢ngulos √©:</p>
          <p class="math-block">4\\cdot\\frac{ab}{2}=2ab</p>

          <p>O espa√ßo que sobra no centro √© um quadrado de lado <span class="math">c</span>, ent√£o sua √°rea √©:</p>
          <p class="math-block">c^2</p>

          <p>Como a √°rea total do quadrado grande √© a soma das partes:</p>
          <p class="math-block">(a+b)^2 = 2ab + c^2</p>

          <p>Expandindo o lado esquerdo:</p>
          <p class="math-block">a^2 + 2ab + b^2 = 2ab + c^2</p>

          <p>Cancelando <span class="math">2ab</span> em ambos os lados:</p>
          <p class="math-block">a^2 + b^2 = c^2</p>

          <p><strong>Conclu√≠mos</strong> que o Teorema de Pit√°goras est√° provado. ‚úÖ</p>
        `
      },

      {
        id: "soma-naturais",
        nome: "Soma dos n primeiros naturais (Gauss)",
        tag: "√Ålgebra",
        nivel: "Ensino m√©dio",
        tempo: "3‚Äì6 min",
        formulaTex: "1+2+\\cdots+n=\\frac{n(n+1)}{2}",
        resumo: "Prova cl√°ssica por pareamento: simples e elegante.",
        html: `
          <h4>Objetivo</h4>
          <p>Provar:</p>
          <p class="math-block">1+2+\\cdots+n=\\frac{n(n+1)}{2}</p>

          <h4>Passo 1 ‚Äî Defina a soma</h4>
          <p class="math-block">S=1+2+\\cdots+n</p>

          <h4>Passo 2 ‚Äî Escreva ao contr√°rio</h4>
          <p class="math-block">S=n+(n-1)+\\cdots+1</p>

          <h4>Passo 3 ‚Äî Some termo a termo</h4>
          <p>Somando as duas express√µes:</p>
          <p class="math-block">2S=(1+n)+(2+(n-1))+\\cdots+(n+1)</p>
          <p>Cada par vale <span class="math">n+1</span>.</p>

          <h4>Passo 4 ‚Äî Conte quantos pares</h4>
          <p>H√° <span class="math">n</span> termos, ent√£o existem <span class="math">n</span> pares:</p>
          <p class="math-block">2S=n(n+1)</p>

          <h4>Passo 5 ‚Äî Divida por 2</h4>
          <p class="math-block">S=\\frac{n(n+1)}{2}</p>

          <p>‚úÖ Provado.</p>
        `
      },

      {
        id: "serie-geometrica",
        nome: "S√©rie geom√©trica infinita",
        tag: "Pr√©-c√°lculo",
        nivel: "Pr√©-c√°lculo",
        tempo: "7‚Äì12 min",
        formulaTex: "1+r+r^2+\\cdots=\\frac{1}{1-r}\\ (|r|<1)",
        resumo: "Soma parcial + limite. Base para muitos resultados em matem√°tica.",
        html: `
          <h4>Objetivo</h4>
          <p>Para <span class="math">|r|&lt;1</span>, provar:</p>
          <p class="math-block">1+r+r^2+r^3+\\cdots=\\frac{1}{1-r}</p>

          <h4>Passo 1 ‚Äî Soma parcial</h4>
          <p class="math-block">S_n=1+r+r^2+\\cdots+r^n</p>

          <h4>Passo 2 ‚Äî Multiplique por r</h4>
          <p class="math-block">rS_n=r+r^2+\\cdots+r^{n+1}</p>

          <h4>Passo 3 ‚Äî Subtraia</h4>
          <p>Subtraindo:</p>
          <p class="math-block">S_n-rS_n=1-r^{n+1}</p>
          <p>Fatorando:</p>
          <p class="math-block">S_n(1-r)=1-r^{n+1}</p>
          <p>Logo:</p>
          <p class="math-block">S_n=\\frac{1-r^{n+1}}{1-r}</p>

          <h4>Passo 4 ‚Äî Limite</h4>
          <p>Se <span class="math">|r|&lt;1</span>, ent√£o <span class="math">r^{n+1}\\to 0</span> quando <span class="math">n\\to\\infty</span>.</p>
          <p>Assim:</p>
          <p class="math-block">\\lim_{n\\to\\infty}S_n=\\frac{1}{1-r}</p>

          <p>‚úÖ Provado.</p>
        `
      },

      {
        id: "seno-cos",
        nome: "Identidade fundamental",
        tag: "Trigonometria",
        nivel: "Ensino m√©dio",
        tempo: "5‚Äì8 min",
        formulaTex: "\\sin^2\\theta+\\cos^2\\theta=1",
        resumo: "Vem do c√≠rculo unit√°rio e do Teorema de Pit√°goras.",
        html: `
          <h4>Objetivo</h4>
          <p>Provar:</p>
          <p class="math-block">\\sin^2\\theta+\\cos^2\\theta=1</p>

          <h4>Passo 1 ‚Äî C√≠rculo unit√°rio</h4>
          <p>No c√≠rculo de raio 1, o ponto do √¢ngulo <span class="math">\\theta</span> tem coordenadas:</p>
          <p class="math-block">(\\cos\\theta,\\ \\sin\\theta)</p>

          <h4>Passo 2 ‚Äî Dist√¢ncia at√© a origem</h4>
          <p>A dist√¢ncia do ponto at√© a origem √© o raio, isto √©, 1.</p>

          <h4>Passo 3 ‚Äî Aplique Pit√°goras</h4>
          <p>Pelo Teorema de Pit√°goras:</p>
          <p class="math-block">(\\cos\\theta)^2 + (\\sin\\theta)^2 = 1^2</p>
          <p>Logo:</p>
          <p class="math-block">\\sin^2\\theta+\\cos^2\\theta=1</p>

          <p>‚úÖ Provado.</p>
        `
      },

      {
        id: "infinitos-primos",
        nome: "Infinitude dos primos (Euclides)",
        tag: "N√∫meros",
        nivel: "Ensino m√©dio",
        tempo: "6‚Äì10 min",
        formulaTex: "\\text{Existem infinitos primos}",
        resumo: "Prova cl√°ssica curta e brilhante por contradi√ß√£o.",
        html: `
          <h4>Objetivo</h4>
          <p>Provar que existem infinitos n√∫meros primos.</p>

          <h4>Passo 1 ‚Äî Suponha o contr√°rio</h4>
          <p>Suponha que exista uma lista completa de primos:</p>
          <p class="math-block">p_1,p_2,\\ldots,p_n</p>

          <h4>Passo 2 ‚Äî Construa um n√∫mero novo</h4>
          <p>Considere:</p>
          <p class="math-block">N=p_1p_2\\cdots p_n+1</p>

          <h4>Passo 3 ‚Äî Veja o resto da divis√£o</h4>
          <p>Se dividirmos <span class="math">N</span> por qualquer <span class="math">p_k</span> da lista, sobra resto 1:</p>
          <p class="math-block">N\\equiv 1\\pmod{p_k}</p>
          <p>Ent√£o nenhum <span class="math">p_k</span> divide <span class="math">N</span>.</p>

          <h4>Passo 4 ‚Äî Contradi√ß√£o</h4>
          <p>Assim, ou <span class="math">N</span> √© primo (novo primo) ou tem um fator primo fora da lista.</p>
          <p>Isso contradiz a ideia de que a lista era completa.</p>

          <p>‚úÖ Logo, existem infinitos primos.</p>
        `
      },

      {
        id: "binomio-newton",
        nome: "Bin√¥mio de Newton",
        tag: "Combinat√≥ria",
        nivel: "Ensino m√©dio",
        tempo: "10‚Äì15 min",
        formulaTex: "(a+b)^n=\\sum_{k=0}^{n}\\binom{n}{k}a^{n-k}b^k",
        resumo: "Demonstra√ß√£o por contagem: de onde vem o coeficiente binomial.",
        html: `
          <h4>Objetivo</h4>
          <p>Provar:</p>
          <p class="math-block">(a+b)^n=\\sum_{k=0}^{n}\\binom{n}{k}a^{n-k}b^k</p>

          <h4>Passo 1 ‚Äî Veja como produto</h4>
          <p class="math-block">(a+b)^n=\\underbrace{(a+b)(a+b)\\cdots(a+b)}_{n\\text{ fatores}}</p>

          <h4>Passo 2 ‚Äî Como aparece a^{n-k}b^k?</h4>
          <p>Em cada par√™ntese escolhemos <span class="math">a</span> ou <span class="math">b</span>.</p>
          <p>Para obter <span class="math">a^{n-k}b^k</span>, escolhemos <span class="math">b</span> em exatamente <span class="math">k</span> fatores.</p>

          <h4>Passo 3 ‚Äî Quantas escolhas?</h4>
          <p>O n√∫mero de maneiras de escolher quais <span class="math">k</span> posi√ß√µes ter√£o <span class="math">b</span> √©:</p>
          <p class="math-block">\\binom{n}{k}</p>

          <h4>Passo 4 ‚Äî Some todos os casos</h4>
          <p>Somando para <span class="math">k=0</span> at√© <span class="math">n</span>, obtemos a f√≥rmula.</p>

          <p>‚úÖ Provado.</p>
        `
      },

      {
        id: "euler",
        nome: "F√≥rmula de Euler (b√¥nus)",
        tag: "B√¥nus",
        nivel: "Pr√©-c√°lculo (avan√ßado)",
        tempo: "12‚Äì18 min",
        formulaTex: "e^{i\\theta}=\\cos\\theta+i\\sin\\theta",
        resumo: "Ponte entre exponenciais e trigonometria via s√©ries de Taylor.",
        html: `
          <h4>Objetivo</h4>
          <p>Provar:</p>
          <p class="math-block">e^{i\\theta}=\\cos\\theta+i\\sin\\theta</p>

          <h4>Passo 1 ‚Äî S√©rie de Taylor do exponencial</h4>
          <p>Sabemos que:</p>
          <p class="math-block">e^x=\\sum_{n=0}^{\\infty}\\frac{x^n}{n!}</p>
          <p>Substituindo <span class="math">x=i\\theta</span>:</p>
          <p class="math-block">e^{i\\theta}=\\sum_{n=0}^{\\infty}\\frac{(i\\theta)^n}{n!}
          =\\sum_{n=0}^{\\infty}\\frac{i^n\\theta^n}{n!}</p>

          <h4>Passo 2 ‚Äî Separe pares e √≠mpares</h4>
          <p class="math-block">e^{i\\theta}
          =\\sum_{k=0}^{\\infty}\\frac{i^{2k}\\theta^{2k}}{(2k)!}
          +\\sum_{k=0}^{\\infty}\\frac{i^{2k+1}\\theta^{2k+1}}{(2k+1)!}</p>

          <h4>Passo 3 ‚Äî Termos pares viram cos</h4>
          <p>Como <span class="math">i^{2k}=(i^2)^k=(-1)^k</span>, temos:</p>
          <p class="math-block">\\sum_{k=0}^{\\infty}(-1)^k\\frac{\\theta^{2k}}{(2k)!}=\\cos\\theta</p>

          <h4>Passo 4 ‚Äî Termos √≠mpares viram i¬∑sen</h4>
          <p>Como <span class="math">i^{2k+1}=i(-1)^k</span>, temos:</p>
          <p class="math-block">\\sum_{k=0}^{\\infty}\\frac{i^{2k+1}\\theta^{2k+1}}{(2k+1)!}
          = i\\sum_{k=0}^{\\infty}(-1)^k\\frac{\\theta^{2k+1}}{(2k+1)!}
          = i\\sin\\theta</p>

          <h4>Conclus√£o</h4>
          <p>Somando as partes:</p>
          <p class="math-block">e^{i\\theta}=\\cos\\theta+i\\sin\\theta</p>

          <p>‚úÖ Provado.</p>
        `
      }
    ];
    // ====== FIM DOS DADOS ======

    const listEl = document.getElementById("list");
    const searchEl = document.getElementById("search");
    const clearEl = document.getElementById("clear");

    const titleEl = document.getElementById("title");
    const subtitleEl = document.getElementById("subtitle");
    const formulaEl = document.getElementById("formula");
    const bodyEl = document.getElementById("body");
    const metaEl = document.getElementById("meta");
    const countPill = document.getElementById("countPill");

    let activeId = FORMULAS[0].id;

    function renderList(items){
      listEl.innerHTML = "";
      countPill.textContent = `${items.length} itens`;
      for(const f of items){
        const div = document.createElement("div");
        div.className = "item" + (f.id === activeId ? " active" : "");
        div.innerHTML = `
          <div class="itemTop">
            <p class="itemName">${f.nome}</p>
            <span class="tag">${f.tag}</span>
          </div>
          <div class="itemFormula">${escapeHtml(f.formulaTex)}</div>
        `;
        div.addEventListener("click", () => {
          activeId = f.id;
          renderList(items);
          renderContent(f);
        });
        listEl.appendChild(div);
      }
    }

    function renderContent(f){
      titleEl.textContent = f.nome;
      subtitleEl.textContent = f.resumo;
      formulaEl.textContent = f.formulaTex;

      metaEl.innerHTML = `
        <span class="pill">üìö ${f.nivel}</span>
        <span class="pill">‚è±Ô∏è ${f.tempo}</span>
        <span class="pill">üè∑Ô∏è ${f.tag}</span>
      `;

      bodyEl.innerHTML = f.html;

      // Renderizar LaTeX (KaTeX auto-render)
      if (window.renderMathInElement) {
        renderMathInElement(bodyEl, {
          delimiters: [
            { left: "$$", right: "$$", display: true },
            { left: "\\[", right: "\\]", display: true },
            { left: "\\(", right: "\\)", display: false },
            { left: "$", right: "$", display: false }
          ],
          throwOnError: false
        });
        // Tamb√©m renderiza spans com class "math" e blocos "math-block"
        renderMathInElement(document.body, {
          delimiters: [
            { left: "$$", right: "$$", display: true },
            { left: "\\[", right: "\\]", display: true },
            { left: "\\(", right: "\\)", display: false },
            { left: "$", right: "$", display: false }
          ],
          throwOnError: false
        });
      }
    }

    function escapeHtml(s){
      return s.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;");
    }

    function applyFilter(){
      const q = (searchEl.value || "").trim().toLowerCase();
      const items = !q ? FORMULAS : FORMULAS.filter(f =>
        f.nome.toLowerCase().includes(q) ||
        f.tag.toLowerCase().includes(q) ||
        f.nivel.toLowerCase().includes(q)
      );
      // se o ativo saiu do filtro, ativa o primeiro do filtro
      if (!items.some(x => x.id === activeId) && items.length) activeId = items[0].id;
      renderList(items);
      const current = items.find(x => x.id === activeId) || items[0];
      if (current) renderContent(current);
    }

    clearEl.addEventListener("click", () => { searchEl.value = ""; applyFilter(); });
    searchEl.addEventListener("input", applyFilter);

    // Espera KaTeX carregar antes da primeira renderiza√ß√£o
    window.addEventListener("load", () => {
      applyFilter();
    });
  </script>
</body>
</html>
