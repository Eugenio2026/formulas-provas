<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fórmulas Famosas - Provas Passo a Passo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558Ajq/4EaSnOdeZq8gT7c8+U3kE838supLYJ1k5iCXVwM936jTOcnTr" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4l8f2jHKwZit/VWeSWHPNxnRm8bfPhc8vvbD039en/qtXvUM" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVWFw7Q/zA2szetkMhFZh1NUCQwrNZn06JnvWg6yBD1GdxNTBgchvEEk" crossorigin="anonymous"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        h1 { text-align: center; }
        #menu { display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; }
        .formula-card { 
            border: 1px solid #ccc; 
            border-radius: 8px; 
            padding: 16px; 
            width: 280px; 
            cursor: pointer; 
            background: #f9f9f9; 
            transition: background 0.2s;
        }
        .formula-card:hover { background: #e8f0fe; }
        #prova { margin-top: 20px; border: 1px solid #ddd; padding: 20px; border-radius: 8px; display: none; max-width: 800px; margin-left: auto; margin-right: auto; }
        .katex { font-size: 1.25em; }
    </style>
</head>
<body>
    <h1>Fórmulas Famosas — Provas Passo a Passo</h1>
    <p style="text-align: center;">Selecione uma fórmula para ver a demonstração didática.</p>
    
    <div id="menu"></div>

    <div id="prova">
        <h2 id="nome"></h2>
        <p><strong>Fórmula:</strong> <span id="formula"></span></p>
        <p><strong>Área:</strong> <span id="area"></span></p>
        <p><strong>Dica de Uso:</strong> <span id="dica"></span></p>
        <h3>Prova Passo a Passo:</h3>
        <ol id="passos"></ol>
        <button onclick="voltarMenu()" style="margin-top: 20px; padding: 10px 20px;">Voltar ao Menu</button>
    </div>

    <script>
        const FORMULAS = [
            {
                id: 1,
                nome: "Fórmula de Bhaskara",
                formula: "x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}",
                area: "Álgebra / Funções Quadráticas",
                dicaUso: "Resolve equações do 2º grau ax² + bx + c = 0",
                provaPassoAPasso: [
                    "Partimos da equação: ax² + bx + c = 0",
                    "Dividimos por a: x² + (b/a)x + c/a = 0",
                    "Completamos o quadrado...",
                    "Chegamos em x = [-b ± √(b²-4ac)] / (2a)"
                ]
            },
            {
                id: 2,
                nome: "Teorema de Pitágoras",
                formula: "a^2 + b^2 = c^2",
                area: "Geometria Plana",
                dicaUso: "Triângulos retângulos",
                provaPassoAPasso: ["Áreas iguais nos quadrados construídos nos lados."]
            }
            // adicione mais...
        ];

        function popularMenu() {
            const menu = document.getElementById('menu');
            if (!menu) {
                console.error("Elemento #menu não encontrado!");
                return;
            }
            menu.innerHTML = '';
            if (FORMULAS.length === 0) {
                menu.innerHTML = '<p style="color:red;">Nenhuma fórmula cadastrada ainda.</p>';
                return;
            }
            FORMULAS.forEach(formula => {
                const card = document.createElement('div');
                card.className = 'formula-card';
                card.innerHTML = `<h3>${formula.nome}</h3><p>${formula.area}</p>`;
                card.onclick = () => mostrarProva(formula);
                menu.appendChild(card);
            });
        }

        function mostrarProva(formula) {
            document.getElementById('nome').textContent = formula.nome;
            document.getElementById('area').textContent = formula.area;
            document.getElementById('dica').textContent = formula.dicaUso;

            katex.render(formula.formula, document.getElementById('formula'), {
                throwOnError: false
            });

            const passos = document.getElementById('passos');
            passos.innerHTML = '';
            formula.provaPassoAPasso.forEach(passo => {
                const li = document.createElement('li');
                li.textContent = passo;
                passos.appendChild(li);
            });

            document.getElementById('menu').style.display = 'none';
            document.getElementById('prova').style.display = 'block';
        }

        function voltarMenu() {
            document.getElementById('menu').style.display = 'flex';
            document.getElementById('prova').style.display = 'none';
        }

        // Inicia quando a página estiver pronta
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Página carregada. Tentando popular menu...");
            popularMenu();
        });
    </script>
</body>
</html>
